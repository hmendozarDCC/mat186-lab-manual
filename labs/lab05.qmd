# Lab 5: Getting Data into R

## Learning Objectives
By the end of this lab, students will be able to:

* Understand the difference between **Absolute** and **Relative** file paths.
* Import data from a local **CSV** file.
* Import data directly from a **URL** (Web).
* Use the `readr` package (part of the tidyverse).

---

## Introduction
Before we can visualize or model data, we have to "import" it into R's memory. Most data you will encounter is stored in **CSV** (Comma Separated Values) format, which looks like an Excel spreadsheet but is much lighter and easier for programs to read.

---

## Part 1: The Working Directory
R needs to know which folder on your computer it should "look" in. 

<div class="dcc-important">
**Crucial Step:** This is why we use **RStudio Projects** (from Lab 2). When you open your `.Rproj` file, R automatically sets your folder as the "Working Directory."
</div>

To check where R is looking, 

* Locate the Console pane (typically in the bottom-left of RStudio).
* Type **getwd()** at the command prompt (>). It is important to include the parentheses () because it is a function.
* Press the Enter (or Return) key on your keyboard.

---

## Part 2: Loading Data from a URL
The easiest way to get started is to pull data directly from the internet. We will use the `read_csv()` function from the `tidyverse`.



::: {.callout-note}
## ðŸ’¡ Tip: Working with Code Chunks

**To Insert a New Chunk:** Click the **green "+C" icon** (Insert) in the toolbar at the top of your editor script, then select **R**. This creates a new gray box for your code.

**To Run the Code:** Click the **green "Play" button** (the small triangle) in the top-right corner of the gray box. The results will appear directly below the chunk in your document.
:::


### Task: Loading our Research Data

In this step, we will tell R to go to the internet, find our dataset, and bring it into RStudio so we can analyze it.

**Follow these steps:**
1. **Create a new R chunk** in your RStudio document.
2. **Copy the code below** by clicking the copy icon in the top-right corner of the gray box.
3. **Paste the code** into your new chunk in RStudio.
4. **Click the Green Play button** (the triangle) to run the code.



```{r}
#| message: false
#| warning: false

# Step 1: Load the tidyverse tools
library(tidyverse)

# Step 2: Set the web address for the Low Birth Weight (LBW) data
url <- "https://vincentarelbundock.github.io/Rdatasets/csv/COUNT/lbw.csv"

# Step 3: Download the data and name it 'lbw_data'
lbw_data <- read_csv(url)

# Step 4: Show the first few rows of the data
head(lbw_data)
```

::: {.callout-tip}
## âœ… Success Check
If the code worked, you should see a table appear directly below your code chunk starting with column names like `rownames`, `low`, `age`, and `lwt`.
:::



---

## Part 3: Loading a Local CSV
Often, you will download a dataset from a site like Kaggle or a government portal.[This link to freee  data](https://vincentarelbundock.github.io/Rdatasets/articles/data.html)

1. Find a CSV file (or download a sample one).
2. Move that file into your **MAT186_Labs** folder.
3. Use the following code (replace `filename.csv` with your actual file name):


```r
my_data <- read_csv("filename.csv")
```


---

## Part 4: Dealing with Common Errors
* **"File not found":** This usually means the file is not in your Project folder, or you misspelled the name (remember: `Data.csv` is different from `data.csv`).
* **Column Parsing:** Sometimes R guesses the data type wrong (e.g., thinking a zip code is a number instead of a label). We will learn to fix this in future labs!

---

<div class="dcc-important">
**Lab Task 5:** 

1. Find any public CSV dataset. For example, [this link to freee  data](https://vincentarelbundock.github.io/Rdatasets/articles/data.html). Use the *lbw* data set.

::: {.callout-tip}
## ðŸ“¥ How to Download the Data

Follow these steps to save the dataset to your computer:

1. **Search for the Data**: In the search box at the top of the website, type **"lbw"**.
2. **Download the File**: Find the link labeled **CSV**. 
   * **Right-click** (or Ctrl+click on a Mac) the CSV link.
   * Select **"Save Link As..."** or **"Download Linked File As..."**.
3. **Save it in the Right Place**: Save the file directly into your **Mat186** folder on your computer.


:::

2. Import it into a new Quarto document using `read_csv`.

3. Use the `glimpse()` command to show the structure of your data:

```r
glimpse(my_data)
```

4. Render the document and confirm that your data table appears in the HTML.
</div>
